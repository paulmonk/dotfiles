# Paths
# -----------
set folder             = "${XDG_DATA_HOME}/mail/fastmail"
set header_cache       = "${XDG_CACHE_HOME}/mutt/accounts/fastmail/headers"
set message_cachedir   = "${XDG_CACHE_HOME}/mutt/accounts/fastmail/bodies"
set alias_file         = "${XDG_CONFIG_HOME}/mutt/accounts/fastmail/alias"
set certificate_file   = "${XDG_CONFIG_HOME}/mutt/accounts/fastmail/certificates"
set signature          = "${XDG_CONFIG_HOME}/mutt/accounts/fastmail/signature"

# General
# -----------
source "${XDG_CONFIG_HOME}/mutt/credentials/getaccount fastmail |"

set mbox_type          = Maildir
set ssl_starttls
set ssl_force_tls
set realname           = "Paul Monk"
set from               = "paul@paulmonk.org"
set imap_pass          = $my_pass
set smtp_pass          = $my_pass
set smtp_url           = "smtp://$my_user@smtp.fastmail.com:465/"
set sendmail           = "msmtp -a fastmail"

# MailBoxes
# -----------
unmailboxes *
mailboxes +fastmail +INBOX +Sent +Drafts +Spam +Trash

macro index,pager gi "<change-folder>+INBOX<enter>" "Go to INBOX."
macro index,pager gs "<change-folder>+Sent<enter>" "Go to Sent."
macro index,pager gd "<change-folder>+Drafts<enter>" "Go to Drafts."
macro index,pager gS "<change-folder>+Spam<enter>" "Go to Spam."
macro index,pager gt "<change-folder>+Trash<enter>" "Go to Trash."

set spoolfile     = "+INBOX"
set record        = "+Sent"
set postponed     = "+Drafts"

# OfflineImap sync
# -----------
macro index O "<shell-escape>offlineimap -a fastmail<enter>" "run offlineimap to sync all mailboxes for fastmail"
macro index o "<shell-escape>offlineimap -a fastmail -qf INBOX<enter>" "run offlineimap to sync INBOX for fastmail"

# vim: set ft=muttrc ts=2 sw=2 tw=80 et :
