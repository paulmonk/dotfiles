#!/bin/bash
# Renumber tmux sessions with numeric names to be sequential starting from 1.

set -o errexit -o errtrace -o pipefail -o nounset

main() {
  local new=1
  local old

  while read -r old; do
    tmux rename -t "${old}" "${new}"
    ((new++))
  done < <(tmux ls | grep '^[0-9]\+:' | cut -f1 -d':' | sort -n)
}

main "$@"
