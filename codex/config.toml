#:schema https://developers.openai.com/codex/config-schema.json

# =================================================================================
# Codex example configuration (config.toml)
#
# This file lists all keys Codex reads from config.toml, their default values,
# and concise explanations. Values here mirror the effective defaults compiled
# into the CLI. Adjust as needed.
#
# Notes
# - Root keys must appear before tables in TOML.
# - Optional keys that default to "unset" are shown commented out with notes.
# - MCP servers, profiles, and model providers are examples; remove or edit.
# =================================================================================
model = "gpt-5.3-codex"
model_reasoning_effort = "high"

# Project instructions
project_doc_fallback_filenames = ["CLAUDE.md"]
project_doc_max_bytes = 131_072

# Sandbox: confine writes to workspace, disable network by default.
sandbox_mode = "workspace-write"

# Auto-approve commands in sandbox; escalate to user when needed.
# We have a yolo alias for never invocation.
approval_policy = "on-request"

# Updates installed via Homebrew
check_for_update_on_startup = false

# Notifications/events: Codex passes a JSON string as argv[1].
# Use a Codex-specific event listener so Codex automation can evolve
# independently from shared notifier behavior used by other agents.
notify = ["codex-event-listener"]

# =================================================================================
# UI, Notifications, and Misc (tables)
# =================================================================================
[tui]
# Desktop notifications from the TUI: boolean or filtered list. Default: true
# Examples: false | ["agent-turn-complete", "approval-requested"]
notifications = false

# Configure the statusline segments shown in the TUI.
status_line = ["model-with-reasoning", "current-dir", "session-id", "git-branch", "context-used", "used-tokens"]

# Show onboarding tooltips in the welcome screen. Default: true
show_tooltips = false

[analytics]
# Disable analytics/telemetry across all Codex product surfaces.
enabled = false

[feedback]
# Control whether users can submit feedback from `/feedback`.
enabled = false

# =================================================================================
# MCP servers
# =================================================================================
[mcp_servers.chrome-devtools]
command = "npx"
args = ["-y", "chrome-devtools-mcp"]
enabled = true

[mcp_servers.context7]
url = "https://mcp.context7.com/mcp"
enabled = true

[mcp_servers.deepwiki]
url = "https://mcp.deepwiki.com/mcp"
enabled = true

[mcp_servers.exa]
command = "npx"
args = ["-y", "exa-mcp-server"]
env_vars = ["EXA_API_KEY"]
enabled = true

[mcp_servers.firecrawl]
command = "npx"
args = ["-y", "firecrawl-mcp"]
env_vars = ["FIRECRAWL_API_KEY"]
enabled = true

[mcp_servers.gh_grep]
url = "https://mcp.grep.app"
enabled = true

[mcp_servers.playwright]
command = "npx"
args = ["-y", "@playwright/mcp"]
enabled = true

[mcp_servers.qmd]
command = "qmd"
args = ["mcp"]
enabled = true

[mcp_servers.serena]
command = "uvx"
args = ["--from", "git+https://github.com/oraios/serena", "serena", "start-mcp-server", "--context", "codex", "--open-web-dashboard", "False"]
enabled = true

[features]
# Experimental feature that allows Codex to delegate work to sub-agents.
multi_agent = true
